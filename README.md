
# Gemini Ghost Knowledge üëª

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π "–ø—Ä–∏–∑—Ä–∞—á–Ω—ã–π" –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–ª—É—à–∞–µ—Ç –≤–∞—à—É —Ä–µ—á—å —á–µ—Ä–µ–∑ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∏ –≤—ã–≤–æ–¥–∏—Ç –≥–ª—É–±–æ–∫–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∫–æ–¥–∏–Ω–≥–∞, –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π –∏–ª–∏ –æ–±—É—á–µ–Ω–∏—è.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **Live Mode**: –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∞—É–¥–∏–æ –≤ Gemini 2.5 Flash.
- **Detailed Intelligence**: –ú–æ–¥–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–∞–≤–∞—Ç—å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã, –∞ –Ω–µ –∫–æ—Ä–æ—Ç–∫–∏–µ —Ñ—Ä–∞–∑—ã.
- **Ghost Overlay**: –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ä–µ–∂–∏–º (Overlay), –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –ø–æ–≤–µ—Ä—Ö –¥—Ä—É–≥–∏—Ö –æ–∫–æ–Ω.
- **Scrollable Interface**: –£–¥–æ–±–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä –¥–ª—è —á—Ç–µ–Ω–∏—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤.
- **K8s Ready**: –ì–æ—Ç–æ–≤—ã–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –¥–ª—è –¥–µ–ø–ª–æ—è –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä (Kind).

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–õ–æ–∫–∞–ª—å–Ω–æ)

### 1. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Node.js**: v18 –∏–ª–∏ –≤—ã—à–µ.
- **API Key**: –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á –≤ [Google AI Studio](https://aistudio.google.com/). 
  *–í–∞–∂–Ω–æ: –î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã Live API —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç —Å –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º –±–∏–ª–ª–∏–Ω–≥–æ–º.*

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
npm install
```

### 3. –ó–∞–ø—É—Å–∫
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –≤–∞—à–∏–º –∫–ª—é—á–æ–º
export API_KEY=–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm start
```
–û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:3000](http://localhost:3000). –ù–∞–∂–º–∏—Ç–µ "Initiate Listening" –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É.

---

## –ó–∞–ø—É—Å–∫ –≤ Docker
```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t ghost-hint:latest .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 8080:80 -e API_KEY=–≤–∞—à_–∫–ª—é—á ghost-hint:latest
```

---

## –î–µ–ø–ª–æ–π –≤ Kubernetes (Kind)

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä `kind`:

1. **–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Ç–µ—Ä** (–µ—Å–ª–∏ –Ω–µ—Ç):
   ```bash
   kind create cluster --name gemini-lab
   ```

2. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±—Ä–∞–∑ –≤ Kind**:
   ```bash
   kind load docker-image ghost-hint:latest --name gemini-lab
   ```

3. **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã**:
   ```bash
   kubectl apply -f k8s/deployment.yaml
   ```

4. **–ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤**:
   ```bash
   kubectl port-forward svc/ghost-hint-service 8080:80
   ```
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8080`.

## CI/CD
–í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω GitHub Actions (`.github/workflows/ci.yml`), –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø—É—à–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–±–æ—Ä–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –∏ Docker-–æ–±—Ä–∞–∑–∞.

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –∫–≤–æ—Ç–∞–º–∏ (Error 429)

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É 429 ("Too Many Requests"), —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤–∞—à API –∫–ª—é—á –∏—Å—á–µ—Ä–ø–∞–ª –ª–∏–º–∏—Ç—ã (TPM - Tokens Per Minute –∏–ª–∏ RPM - Requests Per Minute).

### –ö–∞–∫ —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–¥–µ:
1. **VAD (Voice Activity Detection)**: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≥—Ä–æ–º–∫–æ—Å—Ç—å –∑–≤—É–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ. –ï—Å–ª–∏ –≤ –∫–æ–º–Ω–∞—Ç–µ —Ç–∏—à–∏–Ω–∞, –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä Gemini –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è. –≠—Ç–æ —ç–∫–æ–Ω–æ–º–∏—Ç –¥–æ 80% —Ç–æ–∫–µ–Ω–æ–≤ –≤ —Ä–µ–∂–∏–º–µ –æ–∂–∏–¥–∞–Ω–∏—è.
2. **Exponential Backoff**: –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ 429 –æ—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–µ–ª–∞–µ—Ç –ø–∞—É–∑—É (—Å–Ω–∞—á–∞–ª–∞ 2 —Å–µ–∫, –∑–∞—Ç–µ–º 4, 8 –∏ —Ç.–¥.) –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º.
3. **Audio Chunking**: –ú—ã —É–≤–µ–ª–∏—á–∏–ª–∏ —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –∞—É–¥–∏–æ, —á—Ç–æ–±—ã —Ä–µ–∂–µ "—Å—Ç—É—á–∞—Ç—å—Å—è" –≤ API.

### –ß—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –µ—â–µ:
- **–ü–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç (Pay-as-you-go)**: –°–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Ç–∞—Ä–∏—Ñ —Å –æ–ø–ª–∞—Ç–æ–π –ø–æ —Ñ–∞–∫—Ç—É –≤ Google Cloud Console, —ç—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–¥–Ω–∏–º–µ—Ç –ª–∏–º–∏—Ç—ã Live API.
- **–ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ —Ñ–æ–Ω–æ–≤—ã–π —à—É–º**: –î–∞–∂–µ –µ—Å–ª–∏ –≤—ã –Ω–µ –≥–æ–≤–æ—Ä–∏—Ç–µ, —Ç–µ–ª–µ–≤–∏–∑–æ—Ä –∏–ª–∏ —à—É–º —É–ª–∏—Ü—ã –º–æ–≥—É—Ç –∑–∞—Å—Ç–∞–≤–ª—è—Ç—å –º–æ–¥–µ–ª—å "–¥—É–º–∞—Ç—å" –∏ —Ç—Ä–∞—Ç–∏—Ç—å –∫–≤–æ—Ç—É.
- **System Instruction**: –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Spirit Instruction) –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –º–æ–¥–µ–ª–∏ –æ—Ç–≤–µ—á–∞—Ç—å –∫–æ—Ä–æ—á–µ, –µ—Å–ª–∏ –≤–∞–º –Ω–µ –Ω—É–∂–Ω—ã –ª–æ–Ω–≥—Ä–∏–¥—ã.
